{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\r\n        lurePrefab: cc.Prefab,\r\n        fishPrefab: cc.Prefab,\r\n        //需要初始化的\r\n        knock: cc.Node,\r\n        score: cc.Node,\r\n        timer: cc.Node,\r\n        eatCount: cc.Node,\r\n        board: cc.Node,\r\n        bigLure: cc.Node,\r\n        stone: cc.Node,\r\n        menu: cc.Node,\r\n        stageString: cc.Node,\r\n\r\n        stage: 1,\r\n        disperseDistance: 100,\r\n\r\n        fish: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        otherFish: {\r\n            default: [],\r\n            type: cc.Node\r\n        },\r\n\r\n\r\n    },\r\n\r\n\r\n    // use this for initialization\r\n    onLoad: function() {\r\n        let self = this;\r\n        var manager = cc.director.getCollisionManager();\r\n        manager.enabled = true;\r\n\r\n        this.knock.active = false;\r\n        this.knockAnimation = this.knock.getComponent(cc.Animation);\r\n\r\n        this.scoreLabel = this.score.getComponent(cc.Label);\r\n        this.scoreScript = this.score.getComponent('Score');\r\n        //取到关卡设计文件--放到loading中\r\n        //cc.loader.loadRes('stages.json', function(err, data) {\r\n        let data = cc.find('loading').getComponent('Loading').stagesData;\r\n        self.menu.active = true;\r\n        self.menu.getComponent('Menu').init(data);\r\n        self.stagesData = data;\r\n        //self.bigLure.getComponent('Biglure').init();//data\r\n\r\n        //});\r\n\r\n\r\n\r\n        //cc.log('temp:'+cc.Intersection.linePolygon(cc.p(0,0),cc.p(1,1),[cc.p(0,0),cc.p(0,1),cc.p(1,1),cc.p(1,0)] ))\r\n\r\n        //不需要设定的变量\r\n        this.lures = [];\r\n\r\n        // cc.log('length:'+this.lures.length);\r\n        // let result=self.findPath_(cc.p(12,9), cc.p(13,9), [cc.p(7,11),cc.p(11,11),cc.p(10.5,10.5),cc.p(10,9),cc.p(11,7),cc.p(7,7)], [cc.p(8,10),cc.p(10,10),cc.p(9,9),cc.p(10,8),cc.p(8,8)], []);\r\n        // cc.log(result);\r\n\r\n        //处理上报的各种事件，作为集中调度处理 \r\n\r\n\r\n\r\n        this.node.on('lure_over', function(event) {\r\n            cc.log(event);\r\n        });\r\n        this.node.on('lure_eated', function(event) {\r\n            self.scoreScript.eat();\r\n        });\r\n        this.node.on('throw_lure', function(event) {\r\n            let x = event.getUserData();\r\n            self.throw_lure(x);\r\n            //是在这里告诉鱼要吃，还是放到鱼的自主AI中，让鱼发现有饵\r\n            //也就是有新的饵是一个事件，触发了鱼的思考\r\n            self.wantEatThink();\r\n            // self.fishScript.wantEatThink(self.lures);\r\n\r\n            // for (var i = 0; i < self.otherFish.length; i++) {\r\n            //     self.otherFish[i].getComponent('Control').wantEatThink(self.lures);\r\n            // }\r\n            //self.lures.push(lure);\r\n            //什么时候放回到池中呢？\r\n\r\n            //这里要通知鱼，这里有饵，有多个饵怎么办，要记录所有饵，且饵会变化\r\n            //另有多个鱼的情况\r\n            // self.fishScript.lure = lure;\r\n            // self.fishScript.eatAction();\r\n        });\r\n        this.node.on('lure_destroy', function(event) {\r\n            //cc.log('event.detail.uuid:' + event.detail.uuid); \r\n            //cc.log(self.lures);\r\n\r\n            //这个饵被吃了，让鱼找下一个，暂时没有最近的逻辑\r\n            for (var i = 0; i < self.lures.length; i++) {\r\n                if (self.lures[i].uuid == event.detail.uuid) {\r\n                    self.lures[i].destroy();\r\n                    self.lures.splice(i, 1);\r\n                }\r\n            }\r\n            cc.log('now there are ' + self.lures.length + ' lures');\r\n        });\r\n        //时间到\r\n        this.node.on('time_up', function(event) {\r\n            self.board.active = true;\r\n            self.board.setPosition(0, 0);\r\n            cc.log('self.stage:' + self.stage + ' self.scoreScript.eatCount:' + self.scoreScript.eatCount);\r\n            self.board.getComponent('Board').init({\r\n                stage: self.stage,\r\n                score: self.scoreScript.eatCount\r\n            });\r\n            //清理场景\r\n            self.unscheduleAllCallbacks(); //停止投放\r\n            for (var i = 0; i < self.otherFish.length; i++) {\r\n                self.fishPool.put(self.otherFish[i]);\r\n                //self.otherFish[i].destroy();\r\n            }\r\n\r\n            //self.fishPool.put(self.fish);\r\n            self.fish.destroy();\r\n\r\n            for (var i = 0; i < self.lures.length; i++) {\r\n                self.lures[i].destroy(); //put(self.lures[i]);\r\n            }\r\n            self.lures = [];\r\n\r\n        });\r\n        // 选择关卡了\r\n        this.node.on('select_stage', function(event) {\r\n            self.menu.active = false;\r\n\r\n\r\n            self.enterStage();\r\n            self.fishScript = self.fish.getComponent('Control');\r\n            self.randomLures(self.stageData.throw_lure.count, self.stageData.throw_lure.interval);\r\n            //self.randomLures(5, 10);\r\n\r\n            //重置计时器\r\n            self.timer.getComponent('Timer').totaltime = self.stageData.timer;\r\n            self.timer.getComponent('Timer').isGrowUp = false;\r\n            self.timer.getComponent('Timer').init(self.stageData.timer);\r\n            //重置分数\r\n            self.eatCount.getComponent(cc.Label).string = 0;\r\n            self.scoreScript.eatCount = 0;\r\n        });\r\n        //下一关\r\n        this.node.on('next_stage', function(event) {\r\n            self.stage++;\r\n            self.enterStage();\r\n            self.fishScript = self.fish.getComponent('Control');\r\n            self.randomLures(self.stageData.throw_lure.count, self.stageData.throw_lure.interval);\r\n            //self.randomLures(5, 10);\r\n\r\n            //重置计时器\r\n            self.timer.getComponent('Timer').totaltime = self.stageData.timer;\r\n            self.timer.getComponent('Timer').isGrowUp = false;\r\n            self.timer.getComponent('Timer').init(self.stageData.timer);\r\n            //重置分数\r\n            self.eatCount.getComponent(cc.Label).string = 0;\r\n            self.scoreScript.eatCount = 0;\r\n        });\r\n        //目录\r\n        this.node.on('menu', function(event) {\r\n            self.menu.active = true;\r\n            self.menu.getComponent('Menu').init(self.stagesData);\r\n        });\r\n        //reload\r\n        this.node.on('reload', function(event) {\r\n            self.enterStage();\r\n            self.fishScript = self.fish.getComponent('Control');\r\n            self.randomLures(self.stageData.throw_lure.count, self.stageData.throw_lure.interval);\r\n            //self.randomLures(5, 10);\r\n\r\n            //重置计时器\r\n            self.timer.getComponent('Timer').totaltime = self.stageData.timer;\r\n            self.timer.getComponent('Timer').isGrowUp = false;\r\n            self.timer.getComponent('Timer').init(self.stageData.timer);\r\n            //重置分数\r\n            self.eatCount.getComponent(cc.Label).string = 0;\r\n            self.scoreScript.eatCount = 0;\r\n        });\r\n\r\n\r\n        //两个对像池，不一定\r\n        this.lurePool = new cc.NodePool();\r\n        this.fishPool = new cc.NodePool();\r\n        // this.enterStage();\r\n        // this.randomLures(5, 10);\r\n        //this.fishScript = this.fish.getComponent('Control');\r\n\r\n        // cc.rendererCanvas.enableDirtyRegion(false);\r\n        // cc.rendererWebGL\r\n        this.node.on(cc.Node.EventType.TOUCH_END, function(event) {\r\n            // event.touch\r\n            let target = event.getCurrentTarget();\r\n            let pos = target.convertToNodeSpaceAR(event.getLocation());\r\n            cc.log('touchX:' + pos.x);\r\n            if (event.getLocation().x < 50 || event.getLocation.x > cc.winSize.width - 50) return;\r\n\r\n            //敲部分\r\n            self.knock.x = pos.x;\r\n            self.knock.y = pos.y;\r\n            self.knock.active = true;\r\n            self.knockAnimation.play();\r\n\r\n            self.disperseFish(pos);\r\n        });\r\n\r\n    },\r\n    //驱散\r\n    disperseFish: function(pos) {\r\n        for (var i = 0; i < this.otherFish.length; i++) {\r\n            let distance = cc.pDistance(pos, this.otherFish[i].getPosition());\r\n            if (distance < this.disperseDistance) {\r\n                this.otherFish[i].stopAllActions();\r\n                this.otherFish[i].getComponent('Control').strategyRun(pos, 0.3, 0.3, true);\r\n                cc.log('disperse');\r\n            }\r\n\r\n        }\r\n        let distance = cc.pDistance(pos, this.fish.getPosition());\r\n        if (distance < this.disperseDistance) {\r\n            this.fish.stopAllActions();\r\n            this.fish.getComponent('Control').strategyRun(pos, 0.3, 0.3, true);\r\n            cc.log('disperse');\r\n        }\r\n\r\n    },\r\n    wantEatThink: function() {\r\n        let self = this;\r\n        self.fishScript.wantEatThink(self.lures);\r\n        for (var i = 0; i < self.otherFish.length; i++) {\r\n            self.otherFish[i].getComponent('Control').wantEatThink(self.lures);\r\n        }\r\n    },\r\n    randomLures: function(count, interval) {\r\n        let self = this;\r\n        for (var i = 0; i < count; i++) {\r\n            // for (var n = 0; n < Things.length; i++) {\r\n            //     Things[i]\r\n            // }\r\n            let x = -cc.winSize.width / 2 + 50 + (cc.winSize.width - 100) * Math.random();\r\n            self.throw_lure(x);\r\n        }\r\n        self.wantEatThink();\r\n        this.schedule(function() {\r\n            // self.randomLures();\r\n            // 这里的 this 指向 component\r\n            for (var i = 0; i < count; i++) {\r\n                // for (var n = 0; n < Things.length; i++) {\r\n                //     Things[i]\r\n                // }\r\n                let x = -cc.winSize.width / 2 + 50 + (cc.winSize.width - 100) * Math.random();\r\n                self.throw_lure(x);\r\n            }\r\n\r\n            self.wantEatThink();\r\n        }, interval);\r\n\r\n\r\n\r\n    },\r\n\r\n    enterStage: function() {\r\n        let self = this;\r\n        //从一个文件中取得：\r\n        //1.其它鱼的数量\r\n        //2.障碍的位置、数量\r\n        //3.鱼的变量\r\n        //4.大饵的变量\r\n        //5.第几关\r\n        //TODO 合并所有鱼为一种\r\n        self.stageString.getComponent(cc.Label).string = \"第\" + self.stage + \"关\";\r\n        if (self.stageData && self.stageData.stage === self.stage) {\r\n\r\n        } else {\r\n            for (var i = 0; i < self.stagesData.length; i++) {\r\n                if (self.stagesData[i].stage === self.stage) {\r\n                    self.stageData = self.stagesData[i];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (self.stageData.stone) {\r\n            self.stone.active = true;\r\n        } else {\r\n            self.stone.active = false;\r\n        }\r\n        if (self.stageData.bigLure) {\r\n            self.bigLure.active = true;\r\n        } else {\r\n            self.bigLure.active = false;\r\n        }\r\n\r\n        self.stageData.fish.favorite = false;\r\n        let otherFishCount = self.stageData.otherFishCount;\r\n\r\n        for (var i = 0; i < otherFishCount; i++) {\r\n            let otherFish = null;\r\n            if (self.fishPool.size() > 0) { // 通过 size 接口判断对象池中是否有空闲的对象\r\n                otherFish = self.fishPool.get();\r\n            } else { // 如果没有空闲对象，也就是对象池中备用对象不够时，我们就用 cc.instantiate 重新创建\r\n                otherFish = cc.instantiate(self.fishPrefab);\r\n                // self.lurePool.put(lure);\r\n            }\r\n            cc.log('create otherFish:' + otherFish.uuid);\r\n            let pos = this.getRandomPosition();\r\n            otherFish.setPosition(pos);\r\n\r\n            otherFish.getComponent('Control').init(self.stageData.fish);\r\n            // {\r\n            //     favorite: false,\r\n            //     max_seed: 15\r\n            // }); //TODO 以后给一些参数\r\n\r\n\r\n            otherFish.parent = self.node; // 将生成的敌人加入节点树\r\n\r\n            self.otherFish.push(otherFish);\r\n        }\r\n        self.stageData.fish.favorite = true;\r\n        let fish = cc.instantiate(self.fishPrefab);\r\n        cc.log('create favorite fish :' + fish.uuid);\r\n        let pos = this.getRandomPosition();\r\n        fish.setPosition(pos);\r\n\r\n        fish.getComponent('Control').init(self.stageData.fish);\r\n        // {\r\n        //     favorite: true,\r\n        //     max_seed: 15\r\n        // }); //TODO 以后给一些参数\r\n        fish.parent = self.node; // 将生成的敌人加入节点树\r\n\r\n        self.fish = fish;\r\n\r\n    },\r\n    getRandomPosition: function() {\r\n        let y = -cc.winSize.height / 2 + (cc.winSize.height - 100) * Math.random();\r\n        let x = -cc.winSize.width / 2 + cc.winSize.width * Math.random();\r\n        return cc.p(x, y);\r\n    },\r\n\r\n\r\n    throw_lure: function(x) {\r\n        let self = this;\r\n        //点击后生成饵\r\n        let lure = null;\r\n        if (self.lurePool.size() > 0) { // 通过 size 接口判断对象池中是否有空闲的对象\r\n            lure = self.lurePool.get();\r\n        } else { // 如果没有空闲对象，也就是对象池中备用对象不够时，我们就用 cc.instantiate 重新创建\r\n            lure = cc.instantiate(self.lurePrefab);\r\n            // self.lurePool.put(lure);\r\n        }\r\n        cc.log('throw_lure' + lure);\r\n        lure.y = cc.winSize.height / 2 - 100;\r\n\r\n        lure.getComponent('lure').init(x); //接下来就可以调用 enemy 身上的脚本进行初始化\r\n        lure.parent = self.node; // 将生成的敌人加入节点树\r\n\r\n        self.lures.push(lure);\r\n\r\n    },\r\n});"
  ]
}