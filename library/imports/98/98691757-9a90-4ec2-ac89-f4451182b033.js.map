{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "AAAA,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;AAC3B,EAAE,CAAC,KAAK,CAAC;AACL,eAAS,EAAE,CAAC,SAAS;;AAErB,cAAU,EAAE;;;;;;;;;;;KAWX;;;AAGD,UAAM,EAAE,kBAAW;AACf,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,YAAI,CAAC,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;;AAE5C,YAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;AAC3B,YAAI,QAAQ,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC;;AAEtC,YAAI,SAAS,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC;AACzC,UAAE,CAAC,GAAG,CAAC,YAAY,GAAG,SAAS,CAAC,CAAC;;AAEjC,YAAI,UAAU,GAAG,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE,EAAE,CAAC,CAAC;AAC1D,YAAI,WAAW,GAAG,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE,EAAE,CAAC,CAAC;;AAE1D,YAAI,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,aAAa,CAAC,EAAE,CAAC,QAAQ,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC;KAG/E;AACD,QAAI,EAAE,cAAS,CAAC,EAAE;AACd,YAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;AAChB,UAAE,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,aAAa,CAAC,CAAC;KAC1C;;;AAGD,cAAU,EAAE,oBAAS,EAAE,EAAE;AACrB,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,YAAI,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,GAAG,EAAE,EAAE;;AAE3C,cAAE,CAAC,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AAClE,gBAAI,CAAC,WAAW,EAAE,CAAC;;;;;;;;;;;;;;;AAenB,gBAAI,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AAC1B,aAAC,CAAC,IAAI,CAAC,WAAW,EAAE;AAChB,mBAAG,EAAE,8BAA8B,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI;aACvD,CAAC,CAAC;SACN;;;AAGD,YAAI,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC;KAClG;;AAED,eAAW,EAAE,uBAAW;AACpB,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,YAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;AAC3B,YAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;;AAEjB,YAAI,CAAC,YAAY,CAAC,YAAW;AACzB,gBAAI,QAAQ,GAAG,EAAE,CAAC,QAAQ,CAAC,UAAS,MAAM,EAAE,GAAG,EAAE;;AAE7C,kBAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,cAAc,EAAE;AACnC,wBAAI,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI;iBACvB,CAAC,CAAC;aACN,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;AACZ,gBAAI,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;AACpC,gBAAI,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC,CAAC;SAEtD,EAAE,CAAC,CAAC,CAAC;KACT;AACD,oBAAgB,EAAE,0BAAS,KAAK,EAAE,IAAI,EAAE;;AAEpC,YAAI,KAAK,CAAC,IAAI,CAAC,KAAK,KAAK,OAAO,EAAE;AAC9B,cAAE,CAAC,GAAG,CAAC,iBAAiB,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;;AAE7C,gBAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;;AAE3B,gBAAI,KAAK,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,QAAQ,EAAE;AACxC,oBAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,WAAW,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC,CAAC;aACzE;;AAED,cAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,cAAc,EAAE;AACnC,oBAAI,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI;aACvB,CAAC,CAAC;SAEN;AACD,YAAI,KAAK,CAAC,IAAI,CAAC,KAAK,KAAK,QAAQ,EAAE;AAC/B,cAAE,CAAC,GAAG,CAAC,mBAAmB,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;;AAE/C,gBAAI,CAAC,WAAW,EAAE,CAAC;SACtB;KACJ;CACJ,CAAC,CAAC",
  "file": "unknown",
  "sourcesContent": [
    "var Game = require('Game');\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,      // The default value will be used only when the component attaching\r\n        //                           to a node for the first time\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function() {\r\n        let self = this;\r\n        this.anim = this.getComponent(cc.Animation);\r\n        //向底部移动\r\n        let target_x = this.node.x;\r\n        let target_y = -cc.winSize.height / 2;\r\n        //cc.log('target_x,target_y:'+target_x+','+target_y);\r\n        let downSpeed = -30 - Math.random() * 30;\r\n        cc.log('downspeed=' + downSpeed);\r\n        //这种形式不对，要改一下，不能用缓动，不然有时在update时不能发现这个NODE\r\n        let moveByLeft = cc.moveBy(1.5, cc.p(-40, downSpeed), 10);\r\n        let moveByRight = cc.moveBy(1.5, cc.p(40, downSpeed), 10);\r\n\r\n        this.node.runAction(cc.repeatForever(cc.sequence(moveByLeft, moveByRight)));\r\n\r\n\r\n    },\r\n    init: function(x) {\r\n        this.node.x = x; //-cc.winSize.width/2+ Math.random()*cc.winSize.width ;\r\n        cc.log(this.node.uuid + ' is created');\r\n    },\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    lateUpdate: function(dt) {\r\n        let self = this;\r\n        if (this.node.y < -cc.winSize.height / 2 + 10) {\r\n            //到底了\r\n            cc.log(' over ' + this.node.uuid + ' this.node.y:' + this.node.y);\r\n            self.deteriorate();\r\n            // this.node.stopAllActions();\r\n            // this.anim.stop();\r\n            // //饵到底后变化\r\n            // this.scheduleOnce(function() {\r\n            //     let finished = cc.callFunc(function(target, ind) {\r\n            //         // self.node.destroy();\r\n            //         cc.find('Canvas').emit('lure_destory', {\r\n            //             uuid: self.node.uuid\r\n            //         });\r\n            //     }, this, 0);\r\n            //     let tintBy = cc.tintTo(10, 0, 0, 0);\r\n            //     self.node.runAction(cc.sequence(tintBy, finished));\r\n\r\n            // }, 1);\r\n            let c = cc.find('Canvas');\r\n            c.emit('lure_over', {\r\n                msg: 'Hello, this is Cocos Creator' + self.node.uuid,\r\n            });\r\n        }\r\n        // if(this.node.y<-300 && this.node.y>-310)\r\n        //   cc.log(this.node.uuid+'->'+this.node.y);\r\n        this.node.y = cc.clampf(this.node.y, -cc.winSize.height / 2 + 10, cc.winSize.height / 2 - 100);\r\n    },\r\n    //变质过程\r\n    deteriorate: function() {\r\n        let self = this;\r\n        this.node.stopAllActions();\r\n        this.anim.stop();\r\n        //饵到底后变化\r\n        this.scheduleOnce(function() {\r\n            let finished = cc.callFunc(function(target, ind) {\r\n                // self.node.destroy();\r\n                cc.find('Canvas').emit('lure_destroy', {\r\n                    uuid: self.node.uuid\r\n                });\r\n            }, this, 0);\r\n            let tintBy = cc.tintTo(10, 0, 0, 0);\r\n            self.node.runAction(cc.sequence(tintBy, finished));\r\n\r\n        }, 1); \r\n    },\r\n    onCollisionEnter: function(other, self) {\r\n\r\n        if (other.node.group === 'fishG') {\r\n            cc.log('fish.node.group' + other.node.group);\r\n            //碰到鱼\r\n            this.node.stopAllActions();\r\n\r\n            if (other.getComponent('Control').favorite) {\r\n                this.node.dispatchEvent(new cc.Event.EventCustom('lure_eated', true));\r\n            }\r\n\r\n            cc.find('Canvas').emit('lure_destroy', {\r\n                uuid: self.node.uuid\r\n            });\r\n\r\n        }\r\n        if (other.node.group === 'stoneG') {\r\n            cc.log('lure knock stone ' + other.node.group);\r\n            //碰到障碍\r\n            this.deteriorate();\r\n        }\r\n    }\r\n});"
  ]
}